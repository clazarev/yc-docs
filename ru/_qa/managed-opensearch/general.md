#### Как происходит обслуживание кластеров {{ OS }}? {#service-window}

Под обслуживанием в {{ mos-short-name }} понимается:

* автоматическая установка обновлений и исправлений {{ OS }} для ваших хостов;
* изменение класса хостов и объема хранилища;
* другие сервисные работы {{ mos-short-name }}.

Подробнее см. в разделе [Техническое обслуживание](../../managed-opensearch/concepts/maintenance.md).

#### Включено ли резервное копирование кластеров по умолчанию? {#default-backup}

Да, по умолчанию автоматическое [резервное копирование](../../managed-opensearch/concepts/backup.md) включено и выполняется каждый час. Все резервные копии — инкрементные, хранится только разница с предыдущей резервной копией, что позволяет экономить место в хранилище.

Автоматические резервные копии хранятся две недели.

#### Какую версию {{ OS }} использует {{ mos-short-name }}? {#dbms-version}

В {{ mos-short-name }} доступны версии {{ OS }}, поддерживаемые производителем. Подробнее см. в разделе [{#T}](../../managed-opensearch/concepts/update-policy.md).

#### Что происходит, когда выпускается новая версия {{ OS }}? {#new-version}

При выходе новой версии программное обеспечение кластеров [автоматически обновляется](../../managed-opensearch/concepts/update-policy.md) после тестирования. Кластеры с неподдерживаемой версией {{ OS }} будут так же автоматически обновлены.

На почту владельца кластеров заранее приходит уведомление о сроках проведения работ и доступности баз данных.

{% include [logs](../logs.md) %}

{% include [log-duration](../../_includes/mdb/log-duration-qa.md) %}

#### Как настроить алерт, который срабатывает при заполнении определенного процента дискового пространства? {#disk-space-percentage}

[Создайте алерт](../../managed-opensearch/operations/monitoring.md#monitoring-integration) с метрикой `disk.used_bytes` в сервисе {{ monitoring-full-name }}. Метрика показывает размер использованного дискового пространства в кластере {{ mos-name }}.

Для `disk.used_bytes` используются пороги для оповещения. Их рекомендуемые значения:

* `{{ ui-key.yacloud_monitoring.alert.status_alarm }}` — 90% дискового пространства.
* `{{ ui-key.yacloud_monitoring.alert.status_warn }}` — 80% дискового пространства.

Значения порогов задаются только в байтах. Например, рекомендуемые значения для диска размером в 100 ГБ:

* `{{ ui-key.yacloud_monitoring.alert.status_alarm }}` — `96636764160` байтов (90%).
* `{{ ui-key.yacloud_monitoring.alert.status_warn }}` — `85899345920` байтов (80%).

#### Почему кластер работает медленно, хотя вычислительные ресурсы использованы не до предела? {#throttling}

{% include [throttling](../throttling.md) %}

Чтобы увеличить максимальные значения IOPS и bandwidth и снизить вероятность троттлинга, расширьте размер хранилища или перейдите на более быстрый тип дисков путем [восстановления кластера](../../managed-opensearch/operations/cluster-backups.md#restore) из резервной копии.

#### Можно ли подключиться к хостам кластера по SSH или получить на хостах права суперпользователя? {#connect-ssh}

{% include [connect-via-ssh](../../_includes/mdb/connect-via-ssh.md) %}

#### Что делать, если при получении SSL-сертификата через PowerShell возникает ошибка проверки отзыва? {#get-ssl-error}

Полный текст ошибки:

```text
curl: (35) schannel: next InitializeSecurityContext failed: Unknown error (0x80092012)
The revocation function was unable to check revocation for the certificate
```
Это означает, что при подключении к веб-сайту не удалось проверить, есть ли его сертификат в списке отозванных.

Чтобы исправить ошибку:

* убедитесь, что проверку не блокируют настройки корпоративной сети;
* выполните команду с параметром `--ssl-no-revoke`.

   ```powershell
   mkdir $HOME\.opensearch; curl --ssl-no-revoke --output $HOME\.opensearch\root.crt {{ crt-web-path }}
   ```

#### Как исправить ошибку отсутствия прав при подключении сервисного аккаунта к кластеру? {#attach-service-account}

{% include notitle [attach-sa](../../_qa/attach-sa.md) %}

#### Почему при активации трансфера возникает ошибка `Unable to confirm permission`? {#data-transfer-error}

Полный текст ошибки:

```text
Unable to confirm permission 'data-transfer.transfers.createExternal'
```

Эта ошибка возникает, если трансфер выполняется в БД пользовательской инсталляции {{ OS }} или из нее, но в настройках эндпоинта {{ OS }} не указан идентификатор подсети.

Чтобы исправить ошибку, укажите в настройках эндпоинта {{ OS }} идентификатор подсети, даже если источник и приемник доступны друг для друга без интернета.

#### Какую часть работы по управлению и сопровождению баз данных берет на себя {{ mos-short-name }}? {#services}

{% include [responsibilities-link](../../_includes/mdb/responsibilities-link.md) %}