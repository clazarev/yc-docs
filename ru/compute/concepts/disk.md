---
title: Диски в {{ compute-name }}
description: Диск — это виртуальный аналог физических накопителей, таких как SSD и HDD. Диски предназначены для хранения данных и подключаются к виртуальным машинам для работы с ними.
keywords:
  - диск
  - ssh
  - hdd
  - вм диск
  - диск виртуальной машины
---

# Диски


_Диск_ — это виртуальный аналог физических накопителей, таких как SSD и HDD.

Диски предназначены для хранения данных и подключаются к виртуальным машинам для работы с ними. При отключении диска данные сохраняются.

Каждый диск находится в одной из [зон доступности](../../overview/concepts/geo-scope.md) и [реплицируется](#backup) внутри нее (кроме нереплицируемых дисков), что обеспечивает сохранность данных. В другие зоны диски не реплицируются.

После создания вы можете [изменить](../operations/disk-control/update.md#change-disk-name) имя и описание диска и [увеличить](../operations/disk-control/update.md#change-disk-size) его размер.

За каждым загрузочным диском закреплено определенное [поколение виртуализированного оборудования](./hardware-generations.md), на котором с этим загрузочным диском может быть развернута виртуальная машина. Закрепить за диском то или иное поколение оборудования можно только в момент создания диска. 

После создания диска изменить закрепленное поколение нельзя. Вместо этого вы можете создать [снимок](./snapshot.md) или [образ](./image.md) диска, закрепив в них нужное поколение оборудования, после чего создать из полученного снимка или образа новый диск.

Для дисков действуют [технические ограничения на операции чтения и записи](storage-read-write.md), а также [квоты](limits.md#compute-quotas) и [лимиты](limits.md#compute-limits-disks) {{ compute-name }}.

## Диск как ресурс {{ yandex-cloud }} {#disk-as-resource}

Диск создается внутри каталога и наследует права доступа к нему.

Диск занимает место в хранилище, которое дополнительно оплачивается. Подробнее читайте в разделе [{#T}](../pricing.md). Размер диска указывается при создании нового диска. Именно этот объем подлежит оплате.

Если диск создан из снимка или из образа, в информации о диске содержится идентификатор ресурса-источника. Помимо этого от ресурса-источника наследуются идентификаторы лицензий (`product_ids`), которые используются при расчете стоимости использования диска.

## Типы дисков {#disks-types}

ВМ в {{ yandex-cloud }} могут использовать следующие типы дисков:
* Сетевой SSD-диск (`network-ssd`) — быстрый сетевой диск, сетевое блочное хранилище на SSD-накопителе.
* Сетевой HDD-диск (`network-hdd`) — стандартный сетевой диск, сетевое блочное хранилище на HDD-накопителе.
* Нереплицируемый SSD-диск (`network-ssd-nonreplicated`) — сетевой диск с повышенной производительностью без избыточности.
* Сверхбыстрое сетевое хранилище с тремя репликами (SSD) (`network-ssd-io-m3`) — высокопроизводительный SSD-диск, который обладает теми же скоростными характеристиками, что и `network-ssd-nonreplicated`, но одновременно обеспечивает избыточность.
* [Локальные диски](dedicated-host.md#resource-disks) на выделенных хостах.

Сетевые SSD, высокопроизводительные SSD-диски и сетевые HDD-диски обеспечивают достаточную избыточность для надежного хранения данных и позволяют непрерывно выполнять операции чтения и записи даже при одновременном выходе из строя нескольких физических дисков. Нереплицируемые диски не гарантируют сохранность данных.

Если физический диск, на котором располагается сетевой диск, вышел из строя, ВМ продолжит работу и быстро получит доступ к данным в полном объеме.

### Нереплицируемые диски и сверхбыстрые сетевые хранилища с тремя репликами (SSD) {#nr-disks}

Нереплицируемые диски и высокопроизводительные SSD-диски (сверхбыстрые сетевые хранилища с тремя репликами) превосходят по производительности сетевые SSD-диски, но при этом размер дисков должен быть кратен 93 ГБ.

{% include [pricing-gb-size](../../_includes/pricing-gb-size.md) %}

{% note alert %}

Нереплицируемый диск не рекомендуется делать загрузочным. Если он выйдет из строя, виртуальная машина может стать недоступной.

{% endnote %}

Нереплицируемые диски физически располагаются в серверных стойках дата-центра в одной из зон доступности. Действующие стойки и оборудование периодически заменяются новыми, а данные переносятся с одних физических носителей на другие.

Во время такого переноса данных в [консоли управления]({{ link-console-main }}) на странице информации о диске в строке **{{ ui-key.yacloud.compute.disk.overview.label_status }}** отображается уведомление: `data migration in progress, slight performance decrease may be experienced`. При этом у диска может временно отсутствовать возможность записи и быть снижена производительность.

Если вам необходима повышенная производительность и обеспечение отказоустойчивости, рекомендуется использовать высокопроизводительные SSD-диски.

## Максимальный размер дисков {#maximum-disk-size}

{% include [disk-blocksize](../../_includes/compute/disk-blocksize.md) %}

## Подключение и отключение дисков {#attach-detach}

Каждый диск можно подключить только к одной ВМ. Диск и ВМ должны находиться в одной зоне доступности.

К ВМ обязательно должен быть подключен загрузочный диск. Также к ВМ можно подключить дополнительные диски.

{% include [second-disk-without-restart](../../_includes/compute/second-disk-without-restart.md) %}

{% include [attach-empty-disk](../_includes_service/attach-empty-disk.md) %}

## Автоудаление дисков {#autodelete-disks}

В {{ compute-name }} предусмотрена возможность автоматического удаления дисков вместе с ВМ. Настройки автоудаления **по умолчанию** различаются для загрузочных и дополнительных дисков. Также поведение отличается в зависимости от интерфейса, с помощью которого была создана ВМ:

{% list tabs group=instructions %}

- Консоль управления {#console}

  * **Загрузочный диск**

    * При создании диска вместе с ВМ автоудаление _включено_.
    * При подключении существующего диска к ВМ автоудаление _выключено_.

    {% note info %}

    В [консоли управления]({{ link-console-main }}) не поддерживается изменение настроек автоудаления загрузочного диска. Используйте инструменты {{ yandex-cloud }} CLI, {{ TF }} или API. См. примеры на странице [{#T}](../operations/vm-create/create-linux-vm.md).

    {% endnote %}

  * **Дополнительный диск**

    По умолчанию автоудаление дополнительного диска _выключено_. 
    
    Чтобы включить автоудаление, при создании или изменении ВМ в параметрах диска в поле **{{ ui-key.yacloud.compute.field_additional_vt356 }}** включите опцию **{{ ui-key.yacloud.compute.field_disk-autodelete_qZn4x }}**.

- CLI {#cli}

  * **Загрузочный диск**

    * При создании диска вместе с ВМ автоудаление _включено_.
    * При подключении существующего диска к ВМ автоудаление _выключено_.
  * **Дополнительный диск**

    По умолчанию автоудаление дополнительного диска _выключено_.

  Конфигурацию автоудаления можно настроить как при создании, так и при изменении ВМ с помощью параметра `auto-delete`, который принимает значения `true` или `false`. Этот параметр можно использовать в следующих флагах:
  * `--create-disk` — для создания дополнительного диска.
  * `--attach-disk` — для прикрепления существующего диска в качестве дополнительного.
  * `--create-boot-disk` — для создания загрузочного диска.
  * `--use-boot-disk` — для использования уже существующего загрузочного диска.

- {{ TF }} {#tf}

  * **Загрузочный диск**

    * При создании диска вместе с ВМ автоудаление _включено_.
    * При подключении существующего диска к ВМ автоудаление _включено_.
  
    {% note warning %}

    По умолчанию загрузочный диск будет удален вместе с ВМ, независимо от того, был ли он создан с помощью {{ TF }} или с помощью другого интерфейса и остался ли он в манифесте как отдельный ресурс или нет.

    {% endnote %}

  * **Дополнительный диск**

    По умолчанию автоудаление дополнительного диска _выключено_.

  Конфигурацию автоудаления можно настроить как при создании, так и при изменении ВМ с помощью параметра `auto_delete`, который принимает значения `true` или `false`, внутри описания ресурса загрузочного диска — `boot_disk`, или дополнительного — `secondary_disk`.

- API {#api}

  * **Загрузочный диск**

    * При создании диска вместе с ВМ автоудаление _выключено_.
    * При подключении существующего диска к ВМ автоудаление _выключено_.
  * **Дополнительный диск**

    По умолчанию автоудаление дополнительного диска _выключено_.
  
  Конфигурацию автоудаления можно настроить как при создании, так и при изменении ВМ с помощью параметра `autoDelete`, который принимает значения `true` или `false`, в теле запроса внутри описания загрузочного диска — `bootDiskSpec`, или дополнительного — `secondaryDiskSpecs`.

{% endlist %}

Примеры изменения настройки автоудаления для каждого из интерфейсов см. в инструкции [{#T}](../operations/vm-create/create-linux-vm.md).

## Резервное копирование {#backup}

Резервное копирование необходимо для сохранения данных на случай их повреждения. Разные типы дисков позволяют использовать разные методы резервного копирования:

* [{{ backup-name }}](../../backup/) позволяет делать консистентные копии данных на ВМ с любыми типами дисков.
* [Снимки дисков](snapshot.md) — позволяют вручную или автоматически [по расписаниям](snapshot-schedule.md) создавать снимки сетевых HDD и SSD, высокопроизводительных и нереплицируемых SSD. Снимки также можно использовать, чтобы переносить диски между зонами доступности.

Снимки реплицируются во всех зонах доступности, поэтому их также можно использовать, чтобы переносить диски между зонами доступности.

Иногда восстановление определенного состояния диска становится рутинной операцией: например, вы хотите подключать один и тот же загрузочный диск к каждой новой ВМ. Вы можете загрузить [образ](image.md) этого диска в {{ compute-name }} — создание диска из образа происходит быстрее, чем из снимка. Образ диска тоже автоматически реплицируется в несколько зон доступности.

{% include [boot-disk-recover](../../_includes/compute/boot-disk-recover.md) %}

Рекомендации о резервном копировании и восстановлении ВМ в целом приведены в разделе [{#T}](backups.md).


## Шифрование дисков {#encryption}

Для защиты критичных данных в {{ compute-name }} рекомендуется использовать шифрование дисков с помощью ключей [{{ kms-full-name }}](../../kms/).

Подробнее см. в разделе [{#T}](encryption.md).

## Примеры использования {#examples}

* [{#T}](../tutorials/sap.md)
* [{#T}](../tutorials/alb-with-ddos-protection/index.md)
* [{#T}](../tutorials/packer-quickstart.md)
* [{#T}](../tutorials/hpc-on-preemptible.md)
* [{#T}](../tutorials/minecraft-server.md)

#### См. также {#see-also}

* [Диски в {{ yandex-cloud }}: как выбрать подходящий тип для ваших задач](https://yandex.cloud/ru/blog/posts/2025/04/vm-disks)
* [Инструкции по созданию дисков](../operations/#disk-create)
* [Инструкции по управлению дисками](../operations/#disk-control)
* [Инструкции для снимков дисков и расписаний](../operations/#snapshots)