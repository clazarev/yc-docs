---
title: Как подключиться к хосту кластера {{ dataproc-full-name }} из графических IDE
description: Следуя данной инструкции, вы сможете подключиться к хосту {{ dataproc-name }} из графических IDE.
---

# Подключение к хосту {{ dataproc-name }} из графических IDE

Вы можете подключиться к кластеру {{ dataproc-name }} с помощью графических IDE.

Перед подключением:

1. [Настройте группы безопасности](security-groups.md).
1. [Получите FQDN хоста](fqdn.md).

## Подключитесь с помощью графических IDE {#connection-ide}

{% include [ide-environments](../../_includes/mdb/mdb-ide-envs.md) %}

{% include [ide-ssl-cert](../../_includes/mdb/mdb-ide-ssl-cert.md) %}

{% list tabs group=ide %}

- DataGrip {#datagrip}

  1. Создайте источник данных:
     1. Выберите в меню **File** → **New** → **Data Source** → **Apache Hive**.

        {% note info %}

        Выберите источник данных в зависимости от компонента {{ dataproc-name }}, к которому вы подключаетесь:

        * Hive — выберите **Apache Hive**;
        * Spark — выберите **Apache Spark**.

        Список настроек не меняется.

        {% endnote %}

     1. Укажите параметры подключения на вкладке **General**:
        * **Host** — [FQDN хоста-мастера кластера](fqdn.md) или его публичный IP-адрес;
        * Если вы подключаетесь впервые, то нажмите ссылку **Download**, чтобы загрузить драйвер соединения.
     1. На вкладке **SSH/SSL**:
        1. Включите настройку **Use SSL** и укажите параметры для SSL-подключения:
           * **CA file** — загруженный ранее SSL-сертификат для подключения;
           * **Client key file**, **Client key password** — файл закрытого ключа для подключения к кластеру {{ dataproc-name }} и пароль к нему.
        1. (Опционально) Для подключения через промежуточную ВМ настройте параметры SSH-туннеля:
           1. Выберите **Use SSH tunnel**, создайте SSH-конфигурацию и укажите параметры:
              * **Host** — IP-адрес ВМ;
              * **User name** — имя пользователя ВМ;
              * **Private key file**, **Passphrase** — файл закрытого ключа для подключения к ВМ и пароль к нему.
           1. Нажмите ссылку **Test Connection** для проверки подключения к ВМ из DataGrip.
           1. Нажмите кнопку **OK**, чтобы сохранить конфигурацию.
  1. Нажмите ссылку **Test Connection** для проверки подключения. При успешном подключении будет выведен статус подключения **OK**, информация о СУБД и драйвере.
  1. Нажмите кнопку **OK**, чтобы сохранить источник данных.

- DBeaver {#dbeaver}

  1. [Загрузите SSH-ключ](#data-proc-ssh) на локальную машину или ВМ для подключения к кластеру {{ dataproc-name }}.
  1. Создайте новое соединение с БД:
     1. Выберите в меню **База данных** пункт **Новое соединение**.
     1. Выберите из списка БД источник данных в зависимости от конфигурации кластера {{ dataproc-name }}, к которому вы подключаетесь:

         * Если в кластере используется Hive — выберите **Apache Hive**.
         * Если в кластере включен только Spark и [включен Thrift-сервер](../concepts/settings-list.md#spark-thrift-server)  — выберите **Apache Spark**.

         Список настроек подключения не меняется в зависимости от выбранного источника данных.

     1. Нажмите кнопку **Далее**.
     1. На вкладке **SSH** включите настройку **Использовать туннель SSH** и укажите параметры:
        * **Хост/IP** — [FQDN](fqdn.md) (для подключения через промежуточную ВМ) или публичный IP-адрес хоста-мастера;
        * **Имя пользователя** – укажите имя пользователя:
          * для версии 2.0 — `ubuntu`;
          * для версии 1.4 — `root`.
        * **Метод аутентификации** — `Публичный ключ`;
        * **Секретный ключ** — путь к файлу закрытого ключа кластера;
        * **Passphrase** — пароль от закрытого ключа.
        * (Опционально) Для подключения через промежуточную ВМ включите настройку **Использовать jump сервер** и укажите параметры:
            * **Хост/IP** — публичный IP-адрес ВМ для подключения;
            * **Имя пользователя** — логин для подключения к ВМ;
            * **Метод аутентификации** — `Публичный ключ`;
            * **Секретный ключ** — путь к файлу закрытого ключа ВМ;
            * **Passphrase** — пароль от закрытого ключа.
  1. Нажмите кнопку **Тест соединения ...** для проверки подключения. При успешном подключении будет выведен статус подключения, информация о СУБД и драйвере.
  1. Нажмите кнопку **Готово**, чтобы сохранить настройки соединения с БД.

{% endlist %}