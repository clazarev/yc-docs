---
title: Зоны контроля Yandex Cloud и пользователей сервисов управляемых баз данных
description: Из статьи вы узнаете, что находится в зоне контроля пользователей сервисов управляемых баз данных и за что отвечает Yandex Cloud.
---

# Разграничение зон контроля пользователей сервисов управляемых баз данных (MDB) и {{ yandex-cloud }}

При работе с сервисами управляемых баз данных (MDB) {{ mpg-short-name }}, {{ mch-short-name }}, {{ mgp-full-name }}, {{ mmg-full-name }}, {{ mrd-short-name }}, {{ mmy-short-name }}, {{ mos-short-name }} и {{ mkf-short-name }} необходимо учитывать, что контролирует [сервис MDB](#cloud-responsibilities), а что [клиент {{ yandex-cloud }}](#customer-responsibilities). Понимание этих зон контроля помогает эффективно использовать облачные ресурсы и избегать возможных проблем при работе с базами данных.

## Зона контроля {{ yandex-cloud }} {#cloud-responsibilities}

* **Узлы MDB**. Обеспечение заявленной функциональности MDB; мониторинг работы узлов MDB, поддержание актуальных версий гостевой ОС, ядра, СУБД и компонента обеспечения целостности кластера.

* **Резервное копирование и восстановление**. Обеспечение резервного копирования и восстановления кластера и его отдельных частей. Восстановление из резервной копии не гарантируется, если проблема связана с ошибкой на стороне поставщика БД или архитектурными особенностями данных. Техническая поддержка {{ yandex-cloud }} объяснит, что привело к ошибке и как этого избежать в будущем, а также при наличии возможности восстановит кластер.

* **Кластерные операции**. Обеспечение выполнения операций с кластером MDB, доступных через [консоль управления](../../console/index.yaml), [API](../../api-design-guide/index.yaml), [CLI](../../cli/index.yaml) или [Terraform](../../terraform/index.yaml).

* **Инструменты MDB**. Предоставление инструментов управляемых баз данных {{ yandex-cloud }} (см. таблицу [Документация MDB](#mdb-docs)), таких как диагностика производительности, командный центр, мониторинг кластера (хостов) и СУБД (агентов мониторинга, метрик и дашбордов), алерты и отображение логов.

* **Функционирование кластеров базового уровня**. Предоставление доступа к кластеру и выполнение всех функций, характерных для выбранной клиентом СУБД (включая, но не ограничиваясь ролями мастера, реплики, шарда, сегмента), в периоды отсутствия аварий в инфраструктуре {{ yandex-cloud }} либо инцидентов при условии соответствия пользовательской нагрузки выбранной клиентом конфигурации кластера.

* **Функционирование [кластеров высокой доступности](../../architecture/fault-tolerance.md#mdb-ha)**. Для кластеров, сконфигурированных в соответствии с политикой высокой доступности, выполняются условия, относящиеся к базовым кластерам, в том числе при возникновении аварий в инфраструктуре {{ yandex-cloud }} либо инцидентов, при условии соответствия пользовательской нагрузки выбранной клиентом конфигурации кластера.

* **Настройка новых кластеров**. Применение в новых кластерах оптимальных настроек по умолчанию, повышающих стабильность работы кластеров в {{ yandex-cloud }} и надежность данных, хранящихся в них, в соответствии с рекомендациями поставщиков СУБД.

* **Настройка кластеров при обновлении версии СУБД**. Применение управляемых поставщиком СУБД оптимальных настроек, повышающих стабильность работы кластера в {{ yandex-cloud }} и надежность данных, хранящихся в нем, в соответствии с рекомендациями поставщиков СУБД.

* **Пользовательская документация**. Разработка и актуализация документации MDB. Документация самих СУБД является зоной ответственности поставщиков СУБД. Подробнее об аспектах работы с MDB см. в следующих разделах документации:
  
 {% cut "Документация MDB" %}  {#mdb-docs}
  | Сервис MDB | Разделы документации |
  | --- |----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
  | {{ mpg-short-name }} | [Операции с кластерами](../../managed-postgresql/operations/index.md)</br>[Резервное копирование](../../managed-postgresql/concepts/backup.md)</br>[Высокая доступность кластера](../../managed-postgresql/concepts/high-availability.md)</br>[Техническое обслуживание](../../managed-postgresql/concepts/maintenance.md)</br>[Диагностика производительности](../../managed-postgresql/operations/performance-diagnostics.md)</br>[Мониторинг состояния кластера](../../managed-postgresql/operations/monitoring.md)</br>[Просмотр логов](../../managed-postgresql/operations/cluster-logs.md) |
  | {{ mch-short-name }} | [Операции с кластерами](../../managed-clickhouse/operations/index.md)</br>[Резервное копирование](../../managed-clickhouse/concepts/backup.md)</br>[Политика работы с версиями](../../managed-clickhouse/concepts/update-policy.md)</br>[Техническое обслуживание](../../managed-clickhouse/concepts/maintenance.md)</br>[Мониторинг состояния кластера](../../managed-clickhouse/operations/monitoring.md)</br>[Просмотр логов](../../managed-clickhouse/operations/cluster-logs.md) |
  | {{ mgp-full-name }} | [Операции с кластерами](../../managed-greenplum/operations/index.md)</br>[Резервное копирование](../../managed-greenplum/concepts/backup.md)</br>[Командный центр](../../managed-greenplum/concepts/command-center.md)</br>[Техническое обслуживание](../../managed-greenplum/concepts/maintenance.md)</br>[Диагностика производительности](../../managed-greenplum/operations/performance-diagnostics.md)</br>[Мониторинг состояния кластера](../../managed-greenplum/operations/monitoring.md)</br>[Просмотр логов](../../managed-greenplum/operations/cluster-logs.md) |
  | {{ mmg-full-name }} | [Операции с кластерами](../../storedoc/operations/index.md)</br>[Резервное копирование](../../storedoc/concepts/backup.md)</br>[Техническое обслуживание](../../storedoc/concepts/maintenance.md)</br>[Диагностика производительности](../../storedoc/operations/performance-diagnostics.md)</br>[Мониторинг состояния кластера](../../storedoc/operations/monitoring.md)</br>[Просмотр логов](../../storedoc/operations/cluster-logs.md) |
  | {{ mrd-short-name }} | [Операции с кластерами](../../managed-redis/operations/index.md)</br>[Резервное копирование](../../managed-redis/concepts/backup.md)</br>[Техническое обслуживание](../../managed-redis/concepts/maintenance.md)</br>[Мониторинг состояния кластера](../../managed-redis/operations/monitoring.md)</br>[Просмотр логов](../../managed-redis/operations/cluster-logs.md) |
  | {{ mmy-short-name }} | [Операции с кластерами](../../managed-mysql/operations/index.md)</br>[Резервное копирование](../../managed-mysql/concepts/backup.md)</br>[Высокая доступность кластера](../../managed-mysql/concepts/high-availability.md)</br>[Техническое обслуживание](../../managed-mysql/concepts/maintenance.md)</br>[Диагностика производительности](../../managed-mysql/operations/performance-diagnostics.md)</br>[Мониторинг состояния кластера](../../managed-mysql/operations/monitoring.md)</br>[Просмотр логов](../../managed-mysql/operations/cluster-logs.md) |
  | {{ mos-short-name }} | [Операции с кластерами](../../managed-opensearch/operations/index.md)</br>[Резервное копирование](../../managed-opensearch/concepts/backup.md)</br>[Техническое обслуживание](../../managed-opensearch/concepts/maintenance.md)</br>[Мониторинг состояния кластера](../../managed-opensearch/operations/monitoring.md)</br>[Просмотр логов](../../managed-opensearch/operations/cluster-logs.md)</br>[Политика работы с версиями](../../managed-opensearch/concepts/update-policy.md) |
  | {{ mkf-short-name }} | [Операции с кластерами](../../managed-kafka/operations/index.md)</br>[Высокая доступность кластера](../../managed-kafka/concepts/ha-cluster.md)</br>[Техническое обслуживание](../../managed-kafka/concepts/maintenance.md)</br>[Мониторинг состояния кластера](../../managed-kafka/operations/monitoring.md)</br>[Просмотр логов](../../managed-kafka/operations/cluster-logs.md)</br>[Политика работы с версиями](../../managed-kafka/concepts/update-policy.md) |

  {% endcut %}

## Зона контроля клиентов {{ yandex-cloud }} {#customer-responsibilities}

* **Работа с кластерами**. Самостоятельное управление кластерами MDB через доступные интерфейсы: [консоль управления](../../console/index.yaml), [API](../../api-design-guide/index.yaml), [CLI](../../cli/index.yaml) или [Terraform](../../terraform/index.yaml).

* **Окно для технического обслуживания**. Назначение окна для начала интервала технического обслуживания, чтобы технологические операции происходили в предсказуемое время.

* **Ресурсы кластера**. Обеспечение соответствия ресурсов кластера (класса хостов, количества хостов, реплик и шардов в кластере) пользовательской нагрузке на СУБД и служебной нагрузке сервиса MDB. Служебная нагрузка включает сбор и отправку метрик, логов и данных для диагностики производительности, выполнение резервного копирования, операций обслуживания кластера и внутренних проверок работоспособности сервиса.

* **Использование настроек, не рекомендованных по умолчанию**. Применение настроек кластера, которые могут влиять на его работоспособность, доступность, сохранность и скорость обработки данных при значениях, отличных от рекомендуемых по умолчанию.

* **Анализ нагрузки**. Анализ и управление профилем нагрузки на кластер; выполнение рекомендаций поставщиков СУБД при формировании профиля нагрузки.

* **Запросы к СУБД**. Написание, эксплуатация, отладка и оптимизация запросов к СУБД; диагностика статуса выполнения запросов; анализ результатов и скорости выполнения запросов, а также прочие функции администрирования СУБД.

* **Управление доступом**. Управление привилегиями и полномочиями учетных записей пользователей и их назначение на объекты баз данных в соответствии с ограничениями сервисов MDB.

* **Анализ работы кластера**. Анализ данных мониторинга кластера (хостов) и своевременная реакция на алерты.

* **Проверка резервных копий**. Регулярная проверка корректности данных и работоспособности кластера после его восстановления из резервной копии.

* **Работа в соответствии с документацией**. Эксплуатация кластера в соответствии с пользовательской и правовой документацией сервиса MDB и официальной документацией поставщика СУБД.

* **Экспериментальные настройки**. Использование любых нерекомендуемых поставщиком СУБД или экспериментальных настроек и процедур, которые могут повлиять на работоспособность сервиса MDB.

* **Самостоятельное обновление версий ПО**. Использование актуальных версий платформы СУБД в обозначенные {{ yandex-cloud }} сроки. Самостоятельная подготовка к предстоящему обновлению версии платформы СУБД, анализ изменений и готовности клиентского ПО к этим изменениям. Решение проблем при эксплуатации кластера, связанных с несвоевременным обновлением СУБД до актуальной версии.

* **Подготовка к миграции**. Применение всех рекомендуемых настроек и подготовительных действий (prerequisite) исходного и целевого кластеров СУБД для переноса данных при миграции в {{ yandex-cloud }}. 

  {% note info %}

  Подготовка к предстоящей миграции может потребовать изменения клиентского ПО для работы с версией целевого кластера СУБД.

  {% endnote %}

* **Стороннее ПО**. Настройка и эксплуатация стороннего клиентского ПО для работы с кластером MDB.

* **Требования работы с [кластерами высокой доступности](../../architecture/fault-tolerance.md#mdb-ha)**. Самостоятельная настройка клиентского ПО для корректной работы с кластерами высокой доступности, например, переподключение ПО к узлу в случае отказа или выхода из строя старого узла либо добавления нового узла.

{% note info %}

В случае если у клиента недостаточно экспертизы, чтобы самостоятельно выполнять действия из своей зоны контроля, он может обратиться к своему аккаунт-менеджеру.

{% endnote %}
