---
title: Отслеживание открытия писем
description: В {{ postbox-full-name }} можно отслеживать открытие писем получателями. Когда получатель открывает письмо в почтовом клиенте, {{ postbox-name }} отправляет уведомление о том, что письмо было открыто.
---

# Отслеживание открытия писем

{{ postbox-full-name }} позволяет отслеживать открытие писем получателями. Когда получатель открывает письмо в почтовом клиенте, {{ postbox-name }} отправляет уведомление о том, что письмо было открыто.

## Принцип работы {#how-it-works}

Для отслеживания открытия писем {{ postbox-name }} использует технологию отслеживающего пикселя (`tracking pixel`). При включенном отслеживании сервис автоматически добавляет в конец первой HTML-части письма невидимый элемент изображения размером 1×1 пиксель.

Когда получатель открывает письмо в почтовом клиенте, клиент загружает изображения, включая отслеживающий пиксель. {{ postbox-name }} регистрирует запрос на загрузку пикселя и отправляет уведомление об открытии письма.

Описание формата уведомлений об открытии письма см. в разделе [{#T}](notification.md#open).

{% note warning %}

{{ postbox-name }} модифицирует тело письма, добавляя отслеживающий пиксель.

{% endnote %}

## Как включить {#setup}

Включить отслеживание открытия писем можно при [создании](../operations/create-configuration.md) или редактировании конфигурации следующими способами:

Способ | Сбор [метрики](statistics.md#metrics) `Открытия` | Отправка уведомлений в поток данных {{ yds-name }}
--- | --- | ---
Выбрать тип уведомления **Письмо открыто** в блоке **{{ ui-key.yacloud.postbox.label_event-destinations }}** | ![yes](../../_assets/common/yes.svg) | ![yes](../../_assets/common/yes.svg)
Включить опцию **Статистика вовлечённости** в блоке **Настройки сбора статистики** | ![yes](../../_assets/common/yes.svg) | ![no](../../_assets/common/no.svg)

{% note info %}

Отслеживание работает для писем, у которых только один получатель.

Отслеживающий пиксель добавляется только в письма, которые содержат HTML-часть. Если письмо содержит только текстовую часть, отслеживание недоступно.

{% endnote %}

## Особенности работы {#features}

### Множественные открытия {#multiple-opens}

{{ postbox-name }} отправляет уведомление каждый раз, когда получатель открывает письмо. Если получатель открыл письмо несколько раз, вы получите соответствующее количество уведомлений.

Количество уведомлений может быть больше фактического количества открытий письма получателем по следующим причинам:

* Предварительная загрузки изображений почтовым клиентом.
* Автоматическое сканирование писем антивирусными программами.
* Другие автоматические процессы.

### Кеширование {#caching}

Если почтовый клиент или промежуточные серверы кешируют изображения, повторные открытия письма могут не регистрироваться. Это зависит от настроек конкретного почтового клиента.

### Ограничения {#limitations}

Отслеживание открытия писем может работать неточно в следующих случаях:

* Получатель отключил загрузку изображений в почтовом клиенте.
* Письмо открывается в режиме предварительного просмотра без загрузки изображений.
* Почтовый клиент блокирует внешние изображения по умолчанию.
* Письмо открывается в текстовом режиме.
